module Test

type T = record a*, b: integer; c: array 3 of char end

proc x():T
var t: T
begin
  return t
end x

proc y():^T
var t: ^T
begin
  new(t)
  return t
end y

var t: T
    p: ^T

begin

  t := x()
  x() := t // error, x() returns temporary value
  x().a := 44 // error, dito
  y() := p // error, dito for y()
  y().a := 33 // ok, y() returns a pointer to something
  y().c[2] := "a" // ok, dito

end Test

